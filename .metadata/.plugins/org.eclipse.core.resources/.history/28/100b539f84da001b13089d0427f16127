package com.group.mypage.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

import com.group.mypage.dto.EmployeeLeave;
import com.group.sql.MyConnection;

public class EmployeeLeaveDAOOracle implements EmployeeLeaveDAO{
	public EmployeeLeaveDAOOracle() throws Exception {
		Class.forName("oracle.jdbc.driver.OracleDriver");
		System.out.println("load success");
	}

	public EmployeeLeave selectById(String id) {
		Connection con = null;
		try {
			con=MyConnection.getConnection();
		} catch (SQLException e) {
			e.printStackTrace();
		}
		
		String selectSQL = "SELECT e.employee_id 사번, name 사원명, department_title 부서명,position_title 직책명, job_title 직무명, phone_number 연락처, email 이메일, grant_days 올해부여된휴가일수, (grant_days-remain_days) 사용휴가일수 ,remain_days 남은휴가일수  \r\n" + 
				"FROM employee e \r\n" + 
				"JOIN department d ON e.department_id = d.department_id\r\n" + 
				"JOIN position p ON e.position_id = p.position_id\r\n" + 
				"JOIN job j ON e.job_id = j.job_id\r\n" + 
				"JOIN leave l ON l.employee_id = e.employee_id \r\n" + 
				"WHERE e.employee_id=?";
		PreparedStatement pstmt=null;
		ResultSet rs = null;
		EmployeeLeave el = null;
		try {
			pstmt=con.prepareStatement(selectSQL);
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return null;
	}

	public void update(EmployeeLeave el) {
		// TODO Auto-generated method stub
		
	}


}
